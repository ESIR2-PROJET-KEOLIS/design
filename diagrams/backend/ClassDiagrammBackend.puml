@startuml
class BusController {
  
  Bus[] getAll()
  Bus getById(int id)
  Bus create(string ligne, double longitude,double latitude)
}

class BusService {
  ligne : String
  positionGeo : Position
  void setLigne(String Ligne)
  String getLigne()
  void setPosition(Position p)
  Position getPosition()
}

BusController "1" -- "1" BusService : communique

class PositionController {
   longitude : Double
   latitude : Double

}

class PositionService {
   longitude : Double
   latitude : Double
   void setLongitude(String Ligne)
   String getLongitude()
   void setLatitude(Position p)
   Position getLatitude()
}

PositionController "1" -- "1" PositionService : communique


class CommunicationController {
  void getMessage()
  void processMessage()
}

class CommunicationService {
   bus : Bus
   void addbus(Bus newbus)
   List<Bus> getBus(Bus buswant)
   void readData(File f)
}

CommunicationController "1" -- "1" CommunicationService : communique


class SimulationController{

}

class SimulationService{

}

SimulationController "1" -- "1" SimulationService : communique


class ServiceWebSocket{

}

class ServiceCacheRedis{
  
}

CommunicationController "1" -- "1" ServiceCacheRedis : communique



ServiceCacheRedis -- ServiceWebSocket

BusService "1" -- "1" PositionService : poss√®de
ServiceCacheRedis -- SimulationController
BusService -- ServiceCacheRedis
ServiceWebSocket -- CommunicationService
@enduml